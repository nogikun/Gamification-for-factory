messages:
  - role: system
    content: "ソリューション名称：  \n ゲーミフィケーションによる人材創出への取り組み   \n提出日：　2025年　02月　09日\n\n基本設計仕様書\n\n# **1．概要及び目的**\n\n開発目的町工場への就職不足問題を解消するため、ゲーミフィケーションを活用した新たなインターンシップ制度を提供するアプリケーションを開発する。\n\n1.  **対象となるユーザー**\n\n| ユーザー種類 | 説明 |\n| :---- | :---- |\n| 求職者（中高生） | ・町工場での職業体験に応募し、実際の就業体験を通じてスキルや経験を獲得する。 ・説明会の募集情報を確認し、予約を行う。 |\n| 企業（町工場等） | ・職業体験の募集情報を登録し、求職者の選考および評価を行う。 ・説明会の募集情報を登録し、求職者を募集する。 |\n\n   2.  **期待される価値・効果**  \n* 求職者と企業のマッチングプロセスの効率化  \n* 説明会による企業理解の促進  \n* インターンシップ体験を通じた双方のスキル・評価向上  \n* ゲーミフィケーションによる利用者のモチベーション向上とエンゲージメントの促進\n\n  3.  **プロセスの例**  \n1. 企業がアプリに職業体験・説明会の募集情報を登録  \n2. 求職者が条件に合致する職業体験・説明会を検索し、申し込み  \n3. 企業が応募内容を評価・検討し、受け入れを決定（インターンシップ参加のみ）  \n4. 職業体験参加の場合は実施後、報酬支払いと双方の評価が行われる  \n   説明会参加の場合は、ユーザーがゲーム内アイテムにより報酬を受け取る\n\n## **ビジネスモデルキャンバス**\n\nビジネスモデルキャンバスは下記の通りである。本ソリューションでは対象が二者であるため、それぞれのビジネスモデルキャンバスを作成した。  \n![グラフィカル ユーザー インターフェイスAI によって生成されたコンテンツは間違っている可能性があります。][image1]  \n![ダイアグラムAI によって生成されたコンテンツは間違っている可能性があります。][image2]\n\n## **ビジネスモデルキャンバスにおける試作物との関係**\n\n本アプリケーション（以下、本アプリ）では、求職者向けアプリと企業向けWebアプリの２つのアプリケーションを開発する。 それぞれのアプリケーションを活用することで、求職者と企業の双方向のマッチングを実現する。本アプリでは、学生（中高生）が求職者向けアプリを通し、町工場の\"カッコよさ\"を知ってもらうきっかけを提供し、 町工場側は学生に対して自社アピールの為のコンテンツをダイレクトに提供できる。また、求職者向けに「あしあと」という機能を提供し自身のアプリケーション内での活動を振り返る事や、今後のチャレンジするべき方針の設計をAIと共に取り決める事ができる。\n\n**本講義の実装範囲について**  \n　本講義では、ソリューションの全機能を実装するには開発期間をもう少し要すると考える。そのため「本アプリが人材創出・マッチングプラットフォームで有用である」事を知ってもらえる範囲までの実装に留める。そのため、決済処理APIの実装・利用や本格的なゲームプラットフォームを利用した開発を想定から外している。\n\n# **２．システムアーキテクチャ**\n\n本ソリューションでは、以下のシステム構成を想定する。  \n![][image3]\n\n| ハードウェア | 名称 | 詳細 |\n| ----- | :---: | :---- |\n|  システム (Ubuntu) | api | ユーザーデータやステータス情報の処理を受け付ける。同期的に行う処理はこちらで処理する。 |\n|  | worker | 非同期で行う処理を行う |\n|  | postgres | ユーザーや企業情報、ステータスを保存する。 |\n|  スマートフォン | react | ユーザー情報の登録、企業情報一覧、ゲーム機能 |\n|  | unity | ゲーム処理を行う。 |\n|  | ionic | webアプリケーションをios/androidアプリとして書き出すことができる。 |\n| Webブラウザ | react | 企業情報登録、応募状況の管理、インターン予定管理、インターン履歴管理 |\n|  | node.js | Webサーバー（ランナー） |\n\n# \n\n# **３．機能要件**\n\n## **3.1. 求職者向け機能（ゲームを除く）**\n\n**3.1.1. 登録・検索**\n\n* アプリに登録されている職業体験・説明会情報を日時、場所、業務内容などの条件で検索できる機能  \n* 希望条件に合致する職業体験・説明会参加の自動提案できる機能  \n  （アプリを開いた際、上から順に整列させる）\n\n**3.1.2. 応募・通知**\n\n* 興味のある職業体験・説明会参加に対して、アプリ経由で申し込みが行える機能  \n* 企業は参加者がイベントに申し込んだ際、アプリ・メールへ通知される。  \n* 参加者は企業からの受け入れ決定通知を受信し、アプリ・メールへ通知される。\n\n**3.1.3. 評価**\n\n* インターンシップ体験の場合、体験した企業への評価（スコアおよびコメント）を入力  \n* 説明会参加の場合、参加者にアンケート回答を促す\n\n**3.1.4. 報酬支払い（説明会参加の場合）**\n\n* アンケート回答により報酬（ブキ、アイテム）の受取ができる\n\n**3.1.5. 報酬支払い（インターンシップ参加の場合）**\n\n* 職業体験実施後、企業からの報酬支払いの管理  \n* 企業からの評価値に応じた報酬（レアブキ、アイテム）の受け取り\n\n**3.1.6. 足跡機能**\n\n* 過去のイベント参加やゲームの進行度を閲覧できる。  \n  - 過去のインターンシップなどで得た自分に対するFB文の確認  \n  - 過去に寄せられたFB文を要約し、自分の特性や傾向、今後取り組むべき点などをAIが文章化。その閲覧機能。  \n  - イベントの参加度を定量化し活動量の遷移を閲覧できる機能（横軸；期間）  \n  - 進捗達成を通知できる\n\n**3.2. 企業向け機能**  \n**3.2.1. 職業体験情報の登録**\n\n* カレンダー機能を用いた、インターンシップの日時、業務内容、報酬、募集人数、必要資格などの情報登録や説明会の詳細情報入力が可能\n\n**3.2.2. 応募者管理**\n\n* 求職者からの申し込みを一覧表示し、受け入れの検討および通知を実施\n\n**3.2.3. 評価**\n\n* インターンシップ実施後、求職者の評価（スコアおよびコメント）の入力・管理\n\n**3.2.4. 過去インターン・説明会の参加情報確認**\n\n* 過去のインターンシップ実績や評価履歴、説明会参加履歴を確認可能\n\n**3.2.6. ログ機能**\n\n* 過去のイベント開催で得られた情報やFBを閲覧できる。  \n  - 過去のインターンシップなどで得た自分に対するFB文の確認  \n  - 過去に寄せられたFB文を要約し、自分の特性や傾向、今後取り組むべき点などをAIが文章化。その閲覧機能。\n\n**3.3. アプリ機能（共通・仲介機能）**  \n**3.3.1. マッチング**\n\n* 求職者と企業間の職業体験・説明会マッチングをサポートする\n\n**3.3.2. 通知**\n\n* 各プロセス（申し込み、受け入れ決定、支払い完了、評価依頼）に対するリアルタイム通知を行う\n\n**3.4. ゲーム機能（求職者向け）**  \n**3.4.1. 育成**\n\n* ゲームを通じて、求職者が楽しみながら職業体験を学べる機能  \n* ゲームを通じて、求職者が報酬（ブキ）を獲得できる。  \n  - 報酬（ブキ）は、職業体験・説明会を通じて得たスキルや知識を代表したものである。  \n  - ブキは戦闘時に回数制限を設け、使い切ると再度職業体験を行う必要がある。  \n* 戦闘に勝利すると、経験値を獲得できる。レベルはランキングに反映される。\n\n**3.4.2. ランキング**\n\n* ゲーム内での戦闘結果に応じたランキングを表示  \n* ランキングは、１ヶ月ごとにリセットされる。  \n  - 新規参入者が職業体験を頑張れるモチベーションを提供し続ける  \n* ランキングは、経験値（レベル）、ブキの獲得数など様々な尺度のものがある。\n\n**3.4.3. 戦闘**\n\n* ゲーム内での戦闘機能を提供  \n* 戦闘は、求職者が獲得したブキを使用して行う  \n* ターン制で行われ、勝利条件（敵を倒す）を満たすと経験値を獲得できる  \n* １日に１回戦闘が可能である。職業体験に参加することで、戦闘回数が増える。\n\n# **４．非機能要件**\n\n**4.1. UI/UX**  \n**4.1.1. 直感的な利用**\n\n* ユーザーの言語にかかわらず誰でも直感的に操作できるデザイン  \n* FigmaでのMoC作成によるプロトタイピングおよびユーザーテストの実施\n\n**4.2. セキュリティ**  \n**4.2.1. データ保護**\n\n* ユーザー情報、評価情報、決済情報などの機密データは必ず暗号化  \n* ユーザー認証は Firebase Authentication を利用  \n  - メールアドレス・パスワード認証、Google認証を想定\n\n**4.2.2. アクセス制限**\n\n* 適切な認証・認可の仕組みを実装し、必要なデータに対してのみアクセスを許可\n\n**4.3. 信頼性・可用性**  \n**4.3.1. 高い信頼性**\n\n* ユーザーデータの暗号化やバックアップ、冗長化によるデータ保全\n\n**4.3.2. システムの可用性**\n\n* 24時間365日のサービス提供を目指し、障害発生時の迅速な復旧手順を確立\n\n**4.4. 拡張性・運用性**  \n**4.4.1. 新機能の追加**\n\n* 24時間365日のサービス提供を目指し、障害発生時の迅速な復旧手順を確立\n\n**4.4.2. スケーラビリティ**\n\n* ユーザー数や計算量の増加に伴い自動的にスケーリングする仕組み（コストは利用増加に応じて発生）\n\n**4.4.3. 運用管理**\n\n* ログの取得、モニタリング、アラートシステムを実装し、運用管理を効率化\n\n# **５．データモデル**\n\n**5.1. 主な管理データ**  \n**5.1.1. ユーザー情報**\n\n* 求職者および企業の基本情報、プロフィール、認証情報\n\n**5.1.2. インターンシップ情報**\n\n* 日時、業務内容、報酬、募集人数、必要資格などの詳細\n\n**5.1.3. 評価情報**\n\n* 体験後の相互評価（テキスト形式のコメント、スコア）\n\n**5.2. 想定テーブル構成例**\n\n| ⚠️ Info： ・ユーザーID（user\\_id, reviewer\\_id, reviewee\\_id, company\\_id）は求職者と企業を区別するための共通のID ・レビュワー（reviewer\\_id）とレビュイー（reviewee\\_id）は、user\\_id ,company\\_id と同じIDを使用\v　（いずれかが求職者、もう一方が企業） |\n| :---- |\n\n**5.2.1. 「events」テーブル**  \nイベントに関する基本情報を管理する。\n\n| カラム名 | データ型 | 説明 |\n| :---: | :---: | :---- |\n| event\\_id | SERIAL | イベントID（主キー） |\n| company\\_id | UUID | 企業ID（外部キー） |\n| event\\_type | ENUM | イベントのタイプ（インターンシップ or 説明会） |\n| title | VARCHAR(255) | イベントのタイトル |\n| image | BYTEA | イベントのサムネイルをバイナリデータ(base64, utf-8)として保存する |\n| description | TEXT | イベントの説明 |\n| start\\_date | TIMESTAMP | イベントの開始日時 |\n| end\\_date | TIMESTAMP | イベントの終了日時 |\n| location | VARCHAR(255) | イベントの場所 |\n| reward | VARCHAR(100) | 報酬（円）(\\*1) |\n| required\\_qualifications | TEXT | 必要資格 (\\*1) |\n| available\\_spots | INTEGER | 募集人数 |\n| created\\_at | TIMESTAMP | 作成日時 |\n| updated\\_at | TIMESTAMP | 更新日時 |\n| tags | JSON | イベントのジャンル、タグを定義 (\\*4) |\n\n\\*1: event\\_typeが”説明会”である時、Nullが記録される。\n\n| \\*4 tags型について \\[     {      color: '\\#ff0000',      label: '溶接'      },      {      color: '\\#00ff00',      label: '金属加工'       } \\] |\n| :---- |\n\n**5.2.3. 「applications」テーブル**  \nイベントへの応募状態（ステータス）を管理する。\n\n| カラム名 | データ型 | 説明 |\n| :---: | :---: | :---- |\n| event\\_id | UUID | 応募ID（主キー） |\n| user\\_id | UUID | ユーザーID（外部キー） |\n| event\\_id | UUID | イベントID（外部キー） |\n| status | VARCHAR(50) | 応募の状態（例: 未対応、承認、拒否） ※ 任意の文字列のみ対応 |\n| created\\_at | TIMESTAMP | 作成日時 |\n| updated\\_at | TIMESTAMP | 更新日時 |\n\n**5.2.4. 「reviews」テーブル**  \nイベントのレビュー情報を管理する。\n\n| カラム名 | データ型 | 説明 |\n| :---: | :---: | :---- |\n| review\\_id | UUID | 評価ID（主キー） |\n| reviewer\\_id | UUID | 評価者のユーザーID（外部キー） |\n| reviewee\\_id | UUID | 評価対象のユーザーID（外部キー） |\n| event\\_id | UUID | イベントID（外部キー） |\n| rating | INTEGER | 評価スコア |\n| comment | TEXT | 評価コメント |\n| advice | TEXT | アドバイス |\n| created\\_at | TIMESTAMP | 作成日時 |\n| updated\\_at | TIMESTAMP | 更新日時 |\n\n**5.2.5. 「participants」テーブル**  \nイベント参加者情報を管理する。\n\n| カラム名 | データ型 | 説明 |\n| :---: | :---: | :---- |\n| event\\_id | UUID | イベントID（外部キー） |\n| user\\_id | UUID | ユーザーID（外部キー） |\n| status | ENUM | 参加状態（申請中、参加中、終了） |\n| created\\_at | TIMESTAMP | 作成日時 |\n| updated\\_at | TIMESTAMP | 更新日時 |\n\n**5.2.5. 「user」テーブル**  \nユーザー情報を管理する。\n\n| カラム名 | データ型 | 説明 |\n| :---: | :---: | :---- |\n| user\\_id | UUID | ユーザーID（主キー） |\n| user\\_type | ENUM | ユーザータイプ（参加者、企業） |\n| user\\_name | VERCHAR(50) | ユーザー名・企業名 |\n| created\\_at | TIMESTAMP | 作成日時 |\n| login\\_time | TIMESTAMP | 最終ログイン日時 |\n| ai\\_advice | TEXT | 過去に本ユーザーに向けられたレビューをAIがまとめたアドバイスを記録 |\n\n**5.2.5. 「applicant」テーブル**  \n参加者の個人情報を管理する。エントリーシートに活用する。\n\n| カラム名 | データ型 | 説明 |\n| :---: | :---: | :---- |\n| user\\_id | UUID | ユーザーID（主キー） |\n| last\\_name | VERCHAR(50) | 姓 |\n| first\\_name | VERCHAR(50) | 名 |\n| mail\\_address | TEXT | メールアドレス |\n| phone\\_number | VARCHAR(50) | 電話番号 |\n| address | TEXT | 住所 |\n| birth\\_date | TIMESTAMP | 生年月日 |\n| license | TEXT | 資格、スキル |\n| updated\\_at | TIMESTAMP | データ更新日時 |\n\n**5.2.5. 「company」テーブル**  \n会社の基本情報を管理する。\n\n| カラム名 | データ型 | 説明 |\n| :---: | :---: | :---- |\n| user\\_id | UUID | ユーザーID（主キー） |\n| company\\_name | VERCHAR(50) | 企業名 |\n| mail\\_address | TEXT | メールアドレス |\n| phone\\_number | VARCHAR(50) | 電話番号 |\n| address | TEXT | 住所 |\n| capital | INTEGER | 資本金 |\n| employees | INTEGER | 従業員数 |\n| establishment\\_date | TIMESTAMP | 設立日 |\n| overview | TEXT | 会社概要 |\n| updated\\_at | TIMESTAMP | 更新日時 |\n\n**5.2.5. 「player」テーブル**  \nゲームの進行度に必要な情報を管理する。\n\n| カラム名 | データ型 | 説明 |\n| :---: | :---: | :---- |\n| user\\_id | UUID | ユーザーID（主キー） |\n| level | INTEGER | レベル |\n| experience | INTEGER | 経験値 |\n| skill\\_data | JSON | スキルデータ (\\*2) |\n| item\\_data | JSON | 保有中のアイテム (\\*3) |\n| updated\\_at | TIMESTAMP | 更新日時 |\n\n\\*2 : スキルデータ（JSON）　　　　　　　　　　　　　\\*3：保有中のアイテム\n\n| {“skill\\_data” : \\[\v    {         “skill\\_label” : “”,         “skill\\_level” ; 0,         “skill\\_exp” ; 0,     },     {         “skill\\_label” : “”,         “skill\\_level” ; 0,         “skill\\_exp” ; 0,     }\v\\]} | {“items”: \\[     {         “item\\_id” : “”,         “durability” : 0,        ← 残り利用できる回数     },     {         “item\\_id” : “”,         “durability” : 0,     }, \\]} |\n| :---- | :---- |\n\n**5.2.5. 「game\\_item」テーブル**  \nゲームの進行度に必要な情報を管理する。\n\n| カラム名 | データ型 | 説明 |\n| :---: | :---: | :---- |\n| item\\_id | UUID | アイテムID（主キー） |\n| item\\_type | ENUM | アイテムタイプ（武器、支援アイテム） |\n| atk | INTEGER | 攻撃力 |\n| hit\\_rate | REAL | 命中率 |\n| crit\\_dmg | INTEGER | 会心ダメージ（攻撃力より加算されるダメージ） |\n| crit\\_rate | REAL | 会心率 |\n\n※ 支援アイテムの場合、加算される値をそれぞれに保存する。\n\n**5.3. データの関係性**  \n**5.3.1. 応募プロセス**\n\n* 求職者がインターンシップ・説明会に申し込むと、applications テーブルに記録され、企業へ通知が送信される。\n\n**5.3.2. 評価**\n\n* インターンシップ終了後、企業と求職者が相互に評価を行い、reviews テーブルに記録。  \n  評価情報は求職者のプロフィールに反映される。  \n* 説明会終了後、求職者が企業アンケートを行い、reviews テーブルに記録。\n\n**5.4. セキュリティ・保管方法**\n\n* すべての個人情報および評価情報は暗号化し、定期的なバックアップと冗長化を実施\n\n#  **６．ユーザインタフェース設計**\n\n**6.1. 求職者向けアプリUI**  \n**6.1.1. モックアップ(映像)** \n\n[https://youtu.be/uVWtxBtLnTU?si=H2JsJGjXri1Qn5iW](https://youtu.be/uVWtxBtLnTU?si=H2JsJGjXri1Qn5iW)\n\n**6.1.2. モックアップ（Figma）**  \n![][image4]  ![テキストAI によって生成されたコンテンツは間違っている可能性があります。][image5]  ![ゲーム画面のスクリーンショットAI によって生成されたコンテンツは間違っている可能性があります。][image6]  ![][image7]\n\nプレビュー  \n[https://www.figma.com/proto/fY6Ee498NTlQJLpNPTmKIx/B3\\_MoC?page-id=\\&node-id=1-10\\&viewport=-286%2C255%2C0.38\\&t=kDEnt2zqssGaKXCY-1\\&scaling=scale-down\\&content-scaling=fixed\\&starting-point-node-id=1%3A12](https://www.figma.com/proto/fY6Ee498NTlQJLpNPTmKIx/B3_MoC?page-id=&node-id=1-10&viewport=-286%2C255%2C0.38&t=kDEnt2zqssGaKXCY-1&scaling=scale-down&content-scaling=fixed&starting-point-node-id=1%3A12)\n\n**6.1.3. ホーム画面**\n\n* 検索バーによるインターンシップ・説明会情報の検索（日時、場所、業務内容で絞り込み）  \n* おすすめインターンや新着情報のリスト表示  \n* 通知機能：企業からの受け入れ通知、評価依頼など\n\n**6.1.4. イベント詳細画面**\n\n* インターンシップ・説明会の概要を閲覧できる  \n  （タイトル、日時、場所、業務内容、必要資格、報酬、募集人数など）  \n* 参加申し込みボタン\n\n**6.1.5. マイページ**\n\n* プロフィール、過去の参加履歴、評価、ランキングの表示\n\n**6.1.6. ゲームモード画面**\n\n* アバター、レベル、スキル進行状況の表示  \n* アイテム取得や戦闘機能、ランキング確認などゲーミフィケーションの要素を含む\n\n**6.2. 企業向けWebUI**  \n**6.2.1. ダッシュボード**\n\n* 現在のイベント参加者状況（募集中、受付済み、完了）の確認  \n* 直近の応募者数や通知の一覧表示\n\n**6.2.2. インターンシップ・説明会登録画面**\n\n* カレンダー機能を活用した、インターンシップ・説明会詳細（タイトル、日時、業務内容、報酬、募集人数、必要資格）の登録フォーム\n\n**6.2.3. 応募者管理画面**\n\n* 申し込みを行った求職者の一覧表示と、各求職者のプロフィール、評価、スキル情報の確認  \n* 受け入れの検討、承認、拒否の選択肢\n\n**6.2.4. 評価管理画面**\n\n* インターンシップ・説明会の終了後の求職者評価フォーム（スコア、コメント）の入力および過去評価の参照\n\n**6.3. 共通デザイン・UXのポイント**  \n**6.3.1. 直感的で簡単な操作**\n\n* ナビゲーションはシンプルにし、初回利用時のチュートリアルを実施  \n* ユーザーの言語に依存せず直感的に利用できるUI\n\n**6.3.2. レスポンシブデザイン**\n\n* 各デバイス（PC、スマートフォン、タブレット）での快適な利用を実現\n\n**6.3.3. フィードバック機能**\n\n* 各操作時に視覚的なフィードバック（アニメーション、色の変化）を提供"
  - role: user
    content: データベース定義（init.sql）を作成したい。postgresqlです。
model: openai/gpt-4.1
